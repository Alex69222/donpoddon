!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){new Swiper(".mainSwiper",{spaceBetween:0,effect:"fade",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});var e=document.querySelector(".burger"),t=document.querySelector(".mob-menu"),n=t.querySelectorAll(".mob-nav .mob-nav-item a"),o=document.querySelector(".form");e.addEventListener("click",(function(){e.classList.toggle("opened"),t.classList.toggle("opened"),document.body.classList.toggle("no-y-scroll")})),n.forEach((function(n){n.addEventListener("click",(function(){e.classList.remove("opened"),t.classList.remove("opened"),document.body.classList.remove("no-y-scroll")}))})),[].forEach.call(document.querySelectorAll("input[type=tel]"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___) ___-__-__",o=0,a=n.replace(/\D/g,""),l=this.value.replace(/\D/g,""),r=n.replace(/[_\d]/g,(function(e){return o<l.length?l.charAt(o++)||a.charAt(o):e}));-1!=(o=r.indexOf("_"))&&(o<5&&(o=3),r=r.slice(0,o));var s=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)})),o.addEventListener("submit",function(e,t){console.log(e.target),console.log("Отправка запроса"),e.preventDefault?e.preventDefault():e.returnValue=!1;var n=new XMLHttpRequest;n.open("POST",t,!0),n.onload=function(){n.status>=200&&n.status<400?(json=JSON.parse(this.response),console.log(json),"success"==json.result?alert("Сообщение отправлено"):alert("Ошибка. Сообщение не отправлено")):alert("Ошибка сервера. Номер: "+n.status)},n.onerror=function(){alert("Ошибка отправки запроса")},n.send(new FormData(e.target))}(event,"../php/send_mail.php"))}))}();