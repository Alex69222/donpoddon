!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){new Swiper(".mainSwiper",{spaceBetween:0,effect:"fade",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});var e=document.querySelector(".burger"),t=document.querySelector(".mob-menu"),n=t.querySelectorAll(".mob-nav .mob-nav-item a"),r=document.querySelector(".form");e.addEventListener("click",(function(){e.classList.toggle("opened"),t.classList.toggle("opened"),document.body.classList.toggle("no-y-scroll")})),n.forEach((function(n){n.addEventListener("click",(function(){e.classList.remove("opened"),t.classList.remove("opened"),document.body.classList.remove("no-y-scroll")}))})),[].forEach.call(document.querySelectorAll("input[type=tel]"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___) ___-__-__",r=0,s=n.replace(/\D/g,""),a=this.value.replace(/\D/g,""),l=n.replace(/[_\d]/g,(function(e){return r<a.length?a.charAt(r++)||s.charAt(r):e}));-1!=(r=l.indexOf("_"))&&(r<5&&(r=3),l=l.slice(0,r));var o=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(o=new RegExp("^"+o+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)})),r.addEventListener("submit",(function(e){e.preventDefault();var t=new XMLHttpRequest;t.open("POST","./php/send_mail.php",!0),t.onload=function(){if(t.status>=200&&t.status<400){var n=JSON.parse(this.response);console.log(n),"success"==n.result?(alert("Сообщение отправлено"),e.submitter.disabled=!0,e.submitter.innerText="Отправлено",e.submitter.classList="btn theme_3 mb-3"):alert("Ошибка. Повторите попытку позже")}else alert("Ошибка. Повторите попытку позже")},t.onerror=function(){alert("Ошибка отправки запроса")},t.send(new FormData(e.target))}))}))}();